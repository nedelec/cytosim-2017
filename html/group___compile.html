<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cytosim: How to compile cytosim</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cytosim
   &#160;<span id="projectnumber">PI</span>
   </div>
   <div id="projectbrief">Cytoskeleton Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___compile.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">How to compile cytosim</div>  </div>
</div><!--header-->
<div class="contents">
<p>Cytosim is written in C++ and it is necessary to recompile the program after each modification of the source code.</p>
<p>This can be done from a terminal, with a program called <a href="http://www.gnu.org/software/make/">make</a>, using a C++ compiler: e.g. <a href="http://gcc.gnu.org/">gcc</a>, <a href="http://clang.llvm.org">Clang</a> or the <a href="http://en.wikipedia.org/wiki/Intel_C%2B%2B_Compiler">Intel compiler</a>.</p>
<h3>Mathematical Libraries </h3>
<p>Running cytosim with <code>sim</code> or <code>play</code> require these mathematical libraries:</p><ul>
<li><a href="http://netlib.org/blas/">BLAS </a></li>
<li><a href="http://netlib.org/lapack/">LAPACK </a></li>
</ul>
<p>The <a href="http://netlib.org">reference implementations</a> are public. However, to compile the libraries, you will need a <a href="http://en.wikipedia.org/wiki/Fortran">Fortran</a> compiler to use them.</p>
<p>Precompiled libraries are also included in <a href="http://software.intel.com/en-us/articles/intel-mkl/">Intel MKL </a> and <a href="http://developer.apple.com/hardwaredrivers/ve/vector_libraries.html">Apple's vecLib </a>.</p>
<p>These libraries are bundled with MacOSX and you simply need to specify: </p><div class="fragment"><div class="line">-framework vecLib</div></div><!-- fragment --><p>Recent Linux distributions provide precompiled BLAS/LAPACK as optional installation.</p>
<p>For troubleshooting at this stage, it can be helpful to compile a test program to check the 'makefile.inc' configuration directly: </p><div class="fragment"><div class="line">make test_blas</div></div><!-- fragment --><h3>Graphical Libraries </h3>
<p><code>play</code> relies on <a href="http://www.opengl.org/">OpenGL</a> for display and uses <a href="http://en.wikipedia.org/wiki/POSIX_Threads">POSIX threads</a>.</p>
<p>Interactivity is provided by <a href="http://www.opengl.org/resources/libraries/glut/">GLUT</a>, which can be replaced by <a href="http://freeglut.sourceforge.net/">freeGLUT</a>. The <a href="http://en.wikipedia.org/wiki/OpenGL_Utility_Library">OpenGL Utility Library</a> (GLU) is also used, but it comes usually bundled with GLUT.</p>
<p>GLUT and OpenGL are included in Mac OSX: </p><div class="fragment"><div class="line">-framework GLUT -framework OpenGL </div></div><!-- fragment --><h3>Compilation </h3>
<p>After installing the compiler and <code>make</code>, you need to edit <code>makefile.inc</code> to set the <a class="el" href="group___compile.html">Compile Options</a> options for your particular platform.</p>
<p>You can then compile from a terminal, with the following commands in the root directory of cytosim: </p><div class="fragment"><div class="line">make sim</div><div class="line">make play</div></div><!-- fragment --><p> The command <code>make</code> without arguments will build <code>sim</code> and <code>play</code>. On a cluster without graphical capabilities, you only need 'sim'.</p>
<p>For troubleshooting, it can be helpful to compile some of the test programs, to check the different requirements of the compilation independently: </p><div class="fragment"><div class="line">make test_glut</div><div class="line">make test_glapp</div><div class="line">make test_thread</div></div><!-- fragment --><h3>Compiling on MacOSX </h3>
<p>On Mac OSX, the easiest is to install <a href="https://developer.apple.com/technologies/tools/">Xcode</a>, which is available on the Mac App Store. One need to install the Xcode 'Command-Line Tools', which is an optional package.</p>
<p>On OSX, Cytosim can use the mouse wheel to zoom in and out, if you use freeglut, instead of Apple's GLUT, or <a href="http://iihm.imag.fr/blanch/howtos/MacOSXGLUTMouseWheel.html">Renaud Blanch's GLUT patch</a>.</p>
<h3>Compiling on Linux </h3>
<p>On Linux, you need to install the GNU compiler collection, OpenGL developer libraries, OpenGLUT, BLAS and LAPACK.</p>
<h3>Compiling on Windows </h3>
<p>On Windows, we recommend installing Cygwin, which emulates a Linux-like environment.</p>
<h3>Compiling on CygWin </h3>
<p>A fresh installation of Cygwin is recommended to ensure that all required reference libraries are installed. When installing CygWin ensure that all LAPACK and BLAS libraries are installed. If compilation fails, open the makefile.inc in the main cytosim folder and ensure that all references to the LIBLAS and LAPACK do not have x64 in their folder paths. To run 'play' on Cygwin Xming will need to be installed on the PC. Set up the display properties through XLaunch (part of Xming), and set <code><a class="el" href="class_display.html" title="Base class to display Cytosim state using OpenGL. ">Display</a></code> to <code>0</code>. In the CygWin terminal set the display export to <code>DISPLAY=:0.</code> (export DISPLAY=:0.0)</p>
<h3>Optional Install </h3>
<p>Cytosim program <code>play</code> will be able to export images only if it is linked with the PNG graphical libraries. See <a class="el" href="group___compile.html">Compile Options</a>. </p>


<h3><a id="CompileOptions"></a>Compile Options</h3><div class="textblock"><h4>Dimensionality</h4>
The dimension of the simulation is selected in <code><a class="el" href="dim_8h.html" title="Dimensionality of the simulation. ">src/math/dim.h</a></code> </p><div class="fragment"><div class="line"><span class="preprocessor">#define DIM 2</span></div></div><!-- fragment --><h4>Assertions</h4>
Assertions (a safety mechanism to speed up debugging) are turned on/off in <code><a class="el" href="assert__macro_8h.html" title="Cytosim&#39;s assertions. ">src/base/assert_macro.h</a></code> </p><div class="fragment"><div class="line"><span class="comment">//#define NDEBUG</span></div></div><!-- fragment --><h4>Precision</h4>
The precision of the floating points numbers can be selected in <code><a class="el" href="real_8h.html">src/math/real.h</a></code> <div class="fragment"><div class="line"><span class="comment">//#define REAL_IS_FLOAT</span></div></div><!-- fragment -->double precision is strongly advised.<h4>Compiler Options</h4>
Compiler options can be selected by editing the file <code>makefile.inc</code>. This file should be in the root of the distribution.Select the machine on which you want to compile: </p><div class="fragment"><div class="line">MACHINE=mac</div></div><!-- fragment -->Select the compiler: </p><div class="fragment"><div class="line">COMPILER=gcc</div></div><!-- fragment -->Select the mode: </p><div class="fragment"><div class="line">MODE=F</div></div><!-- fragment -->To test new code, <code>debug</code> is the best, but to run extensive calculations, you should:</p><ul>
<li>disable assertions,</li>
<li>compile with option <code>fast</code> </li>
</ul>
<h4>GIF support</h4>
You can install the GIF library (giflib) on your mac with <a href="http://www.macports.org">macPorts</a>: </p><div class="fragment"><div class="line">sudo port install giflib</div></div><!-- fragment -->You can then enable GIF support in cytosim by editing the <code>makefile.inc:</code> </p><div class="fragment"><div class="line">HAS_GIF = 1</div></div><!-- fragment --><h4>PNG support</h4>
You can install the PNG library (libpnb) on your mac with <a href="http://www.macports.org">macPorts</a>: </p><div class="fragment"><div class="line">sudo port install libpng</div></div><!-- fragment -->You can then enable PNG support by editing the <code>makefile.inc:</code> </p><div class="fragment"><div class="line">HAS_PNG = 1</div></div><!-- fragment --><h4>Documentation</h4>
The HTML documentation is built by <a href="http://www.doxygen.org/index.html">doxygen</a> Please, use doxygen 1.8 or better. </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 25 2018 10:37:05 for Cytosim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
